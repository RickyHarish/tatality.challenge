{"ast":null,"code":"var _jsxFileName = \"F:\\\\React Projects\\\\Totality\\\\front-end\\\\src\\\\screens\\\\OrderListScreen.js\";\nimport React, { useEffect } from 'react';\nimport { LinkContainer } from 'react-router-bootstrap';\nimport { useHistory } from 'react-router-use-history';\nimport { Table, Button } from 'react-bootstrap';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Message from '../components/Message';\nimport Loader from '../components/Loader';\nimport { listOrders } from '../actions/orderActions';\nimport Meta from '../components/Meta';\nconst OrderListScreen = () => {\n  //    const [deleted, setDeleted] = useState(false);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const orderList = useSelector(state => state.orderList);\n  const {\n    loading,\n    error,\n    orders\n  } = orderList;\n  const userLogin = useSelector(state => state.userLogin);\n  const {\n    userInfo\n  } = userLogin;\n  useEffect(() => {\n    if (userInfo && userInfo.isAdmin) {\n      dispatch(listOrders());\n    }\n  }, [dispatch, userInfo]);\n  useEffect(() => {\n    if (!userInfo || !userInfo.isAdmin) {\n      history.push('/login');\n    }\n    // eslint-disable-next-line\n  }, [history]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Meta, {\n    title: \"Orders\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }, \"Orders\"), loading ? /*#__PURE__*/React.createElement(Loader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 17\n    }\n  }) : error ? /*#__PURE__*/React.createElement(Message, {\n    variant: \"danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 35\n    }\n  }, error) : /*#__PURE__*/React.createElement(Table, {\n    striped: true,\n    bordered: true,\n    hover: true,\n    responsive: true,\n    className: \"table-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 15\n    }\n  }, \"ID\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 15\n    }\n  }, \"USER\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 15\n    }\n  }, \"DATE\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 15\n    }\n  }, \"TOTAL\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 15\n    }\n  }, \"PAID\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 15\n    }\n  }, \"DELIVERED\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }\n  }, orders && orders.map(order => /*#__PURE__*/React.createElement(\"tr\", {\n    key: order._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }\n  }, order._id), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }, order.user && order.user.name), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }, order.createdAt.substring(0, 10)), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }\n  }, `\\u20B9 `, order.totalPrice), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }\n  }, order.isPaid ? order.paidAt.substring(0, 10) : /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-times\",\n    style: {\n      color: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  }, order.isDelivered ? order.deliveredAt.substring(0, 10) : /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-times\",\n    style: {\n      color: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(LinkContainer, {\n    to: `/order/${order._id}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"light\",\n    className: \"btn-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 21\n    }\n  }, \"Details\"))))))));\n};\nexport default OrderListScreen;","map":{"version":3,"names":["React","useEffect","LinkContainer","useHistory","Table","Button","useDispatch","useSelector","Message","Loader","listOrders","Meta","OrderListScreen","dispatch","history","orderList","state","loading","error","orders","userLogin","userInfo","isAdmin","push","createElement","Fragment","title","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","variant","striped","bordered","hover","responsive","className","map","order","key","_id","user","name","createdAt","substring","totalPrice","isPaid","paidAt","style","color","isDelivered","deliveredAt","to"],"sources":["F:/React Projects/Totality/front-end/src/screens/OrderListScreen.js"],"sourcesContent":["import React, {useEffect} from 'react'\r\nimport {LinkContainer} from 'react-router-bootstrap'\r\nimport { useHistory } from 'react-router-use-history'\r\nimport { Table, Button} from 'react-bootstrap'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport Message from '../components/Message'\r\nimport Loader from '../components/Loader'\r\nimport { listOrders } from '../actions/orderActions'\r\nimport Meta from '../components/Meta'\r\n\r\n\r\nconst OrderListScreen = () => {\r\n//    const [deleted, setDeleted] = useState(false);\r\n    const dispatch = useDispatch()\r\n    const history = useHistory()\r\n\r\n    const orderList = useSelector(state=>state.orderList)\r\n    const {loading, error, orders} = orderList\r\n\r\n    const userLogin = useSelector(state=>state.userLogin)\r\n    const {userInfo} = userLogin\r\n\r\n    \r\n    useEffect(()=>{\r\n      if(userInfo && userInfo.isAdmin){\r\n        dispatch(listOrders())\r\n      }\r\n        \r\n    }, [dispatch, userInfo])\r\n\r\n    useEffect(()=>{\r\n      if(!userInfo || !userInfo.isAdmin){\r\n        history.push('/login')\r\n      }\r\n      // eslint-disable-next-line\r\n    }, [history])\r\n\r\n\r\n    \r\n\r\n  return (\r\n    <>\r\n    <Meta title='Orders' />\r\n      <h1>Orders</h1>\r\n      {loading? <Loader/>: error? <Message variant='danger'>{error}</Message>:(\r\n        <Table striped bordered hover responsive className='table-sm'>\r\n          <thead>\r\n            <tr>\r\n              <th>ID</th>\r\n              <th>USER</th>\r\n              <th>DATE</th>\r\n              <th>TOTAL</th>\r\n              <th>PAID</th>\r\n              <th>DELIVERED</th>\r\n              <th></th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {orders && orders.map(order=>(\r\n              <tr key={order._id}>\r\n                <td>{order._id}</td>\r\n                <td>{order.user && order.user.name}</td>\r\n                <td>{order.createdAt.substring(0, 10)}</td>\r\n                <td>{`\\u20B9 `}{order.totalPrice}</td>\r\n                <td>{order.isPaid? order.paidAt.substring(0, 10):(\r\n                  <i className='fas fa-times' style={{color:'red'}}></i>\r\n                )}</td>\r\n                <td>{order.isDelivered? order.deliveredAt.substring(0, 10):(\r\n                  <i className='fas fa-times' style={{color:'red'}}></i>\r\n                )}</td>\r\n                <td>\r\n                  <LinkContainer to={`/order/${order._id}`}>\r\n                    <Button variant='light' className='btn-sm'>\r\n                      Details\r\n                    </Button>\r\n                  </LinkContainer>\r\n                </td>\r\n              </tr>\r\n            ))\r\n            }\r\n          </tbody>\r\n        </Table>\r\n      )}  \r\n    </>\r\n  )\r\n}\r\n\r\nexport default OrderListScreen\r\n"],"mappings":";AAAA,OAAOA,KAAK,IAAGC,SAAS,QAAO,OAAO;AACtC,SAAQC,aAAa,QAAO,wBAAwB;AACpD,SAASC,UAAU,QAAQ,0BAA0B;AACrD,SAASC,KAAK,EAAEC,MAAM,QAAO,iBAAiB;AAC9C,SAAQC,WAAW,EAAEC,WAAW,QAAO,aAAa;AACpD,OAAOC,OAAO,MAAM,uBAAuB;AAC3C,OAAOC,MAAM,MAAM,sBAAsB;AACzC,SAASC,UAAU,QAAQ,yBAAyB;AACpD,OAAOC,IAAI,MAAM,oBAAoB;AAGrC,MAAMC,eAAe,GAAGA,CAAA,KAAM;EAC9B;EACI,MAAMC,QAAQ,GAAGP,WAAW,CAAC,CAAC;EAC9B,MAAMQ,OAAO,GAAGX,UAAU,CAAC,CAAC;EAE5B,MAAMY,SAAS,GAAGR,WAAW,CAACS,KAAK,IAAEA,KAAK,CAACD,SAAS,CAAC;EACrD,MAAM;IAACE,OAAO;IAAEC,KAAK;IAAEC;EAAM,CAAC,GAAGJ,SAAS;EAE1C,MAAMK,SAAS,GAAGb,WAAW,CAACS,KAAK,IAAEA,KAAK,CAACI,SAAS,CAAC;EACrD,MAAM;IAACC;EAAQ,CAAC,GAAGD,SAAS;EAG5BnB,SAAS,CAAC,MAAI;IACZ,IAAGoB,QAAQ,IAAIA,QAAQ,CAACC,OAAO,EAAC;MAC9BT,QAAQ,CAACH,UAAU,CAAC,CAAC,CAAC;IACxB;EAEF,CAAC,EAAE,CAACG,QAAQ,EAAEQ,QAAQ,CAAC,CAAC;EAExBpB,SAAS,CAAC,MAAI;IACZ,IAAG,CAACoB,QAAQ,IAAI,CAACA,QAAQ,CAACC,OAAO,EAAC;MAChCR,OAAO,CAACS,IAAI,CAAC,QAAQ,CAAC;IACxB;IACA;EACF,CAAC,EAAE,CAACT,OAAO,CAAC,CAAC;EAKf,oBACEd,KAAA,CAAAwB,aAAA,CAAAxB,KAAA,CAAAyB,QAAA,qBACAzB,KAAA,CAAAwB,aAAA,CAACb,IAAI;IAACe,KAAK,EAAC,QAAQ;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,eACrBhC,KAAA,CAAAwB,aAAA;IAAAG,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAI,QAAU,CAAC,EACdf,OAAO,gBAAEjB,KAAA,CAAAwB,aAAA,CAACf,MAAM;IAAAkB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAC,CAAC,GAAEd,KAAK,gBAAElB,KAAA,CAAAwB,aAAA,CAAChB,OAAO;IAACyB,OAAO,EAAC,QAAQ;IAAAN,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAEd,KAAe,CAAC,gBACrElB,KAAA,CAAAwB,aAAA,CAACpB,KAAK;IAAC8B,OAAO;IAACC,QAAQ;IAACC,KAAK;IAACC,UAAU;IAACC,SAAS,EAAC,UAAU;IAAAX,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC3DhC,KAAA,CAAAwB,aAAA;IAAAG,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACEhC,KAAA,CAAAwB,aAAA;IAAAG,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACEhC,KAAA,CAAAwB,aAAA;IAAAG,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAI,IAAM,CAAC,eACXhC,KAAA,CAAAwB,aAAA;IAAAG,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAI,MAAQ,CAAC,eACbhC,KAAA,CAAAwB,aAAA;IAAAG,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAI,MAAQ,CAAC,eACbhC,KAAA,CAAAwB,aAAA;IAAAG,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAI,OAAS,CAAC,eACdhC,KAAA,CAAAwB,aAAA;IAAAG,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAI,MAAQ,CAAC,eACbhC,KAAA,CAAAwB,aAAA;IAAAG,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAI,WAAa,CAAC,eAClBhC,KAAA,CAAAwB,aAAA;IAAAG,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAQ,CACN,CACC,CAAC,eACRhC,KAAA,CAAAwB,aAAA;IAAAG,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACGb,MAAM,IAAIA,MAAM,CAACoB,GAAG,CAACC,KAAK,iBACzBxC,KAAA,CAAAwB,aAAA;IAAIiB,GAAG,EAAED,KAAK,CAACE,GAAI;IAAAf,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACjBhC,KAAA,CAAAwB,aAAA;IAAAG,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAKQ,KAAK,CAACE,GAAQ,CAAC,eACpB1C,KAAA,CAAAwB,aAAA;IAAAG,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAKQ,KAAK,CAACG,IAAI,IAAIH,KAAK,CAACG,IAAI,CAACC,IAAS,CAAC,eACxC5C,KAAA,CAAAwB,aAAA;IAAAG,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAKQ,KAAK,CAACK,SAAS,CAACC,SAAS,CAAC,CAAC,EAAE,EAAE,CAAM,CAAC,eAC3C9C,KAAA,CAAAwB,aAAA;IAAAG,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAK,SAAS,EAAEQ,KAAK,CAACO,UAAe,CAAC,eACtC/C,KAAA,CAAAwB,aAAA;IAAAG,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAKQ,KAAK,CAACQ,MAAM,GAAER,KAAK,CAACS,MAAM,CAACH,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC,gBAC9C9C,KAAA,CAAAwB,aAAA;IAAGc,SAAS,EAAC,cAAc;IAACY,KAAK,EAAE;MAACC,KAAK,EAAC;IAAK,CAAE;IAAAxB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAI,CACjD,CAAC,eACPhC,KAAA,CAAAwB,aAAA;IAAAG,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAKQ,KAAK,CAACY,WAAW,GAAEZ,KAAK,CAACa,WAAW,CAACP,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC,gBACxD9C,KAAA,CAAAwB,aAAA;IAAGc,SAAS,EAAC,cAAc;IAACY,KAAK,EAAE;MAACC,KAAK,EAAC;IAAK,CAAE;IAAAxB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAI,CACjD,CAAC,eACPhC,KAAA,CAAAwB,aAAA;IAAAG,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACEhC,KAAA,CAAAwB,aAAA,CAACtB,aAAa;IAACoD,EAAE,EAAE,UAAUd,KAAK,CAACE,GAAG,EAAG;IAAAf,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACvChC,KAAA,CAAAwB,aAAA,CAACnB,MAAM;IAAC4B,OAAO,EAAC,OAAO;IAACK,SAAS,EAAC,QAAQ;IAAAX,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,SAEnC,CACK,CACb,CACF,CACL,CAEI,CACF,CAET,CAAC;AAEP,CAAC;AAED,eAAepB,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module"}